<!DOCTYPE html>
<html  xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
       lang="en">
<head>
    <meta charset="UTF-8">
   

      <title>crossy road</title>

      <div>
        <h1> How to Play</h1>
    </div>
      <style>
            body {
                overflow: hidden;
            }
            canvas {
                position: absolute;
                left: 0px;
                top: 0px;
            }
            #projects {
				position: absolute;
				left: 150px;
				top: 550px;
				background-color: rgb(140, 140, 140);
				color: white;
				padding: 230px, 10px;
				text-decoration: none;
				width: 300px;
				height: 40px;
				text-align: center;
				display: block;
			}
			</style>
	</head>	
   <body>
      <canvas id="mycanvas"></canvas>
   </body>
   <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
   <script>
      var programCode = function(processingInstance) {
        with (processingInstance) {
          size(600, 600); 

frameRate(60);

var started = false;
var gameY = 0;
var score = 0;
var gameOver = false; 

var Player = function(x, y) {
    
    this.x = x;
    this.y = y; 
    this.w = 25;
    this.h = 25;
};

Player.prototype.draw = function() {
    
    noStroke();
    fill(255);
    rect(this.x, this.y, this.w, this.h);
    fill(0);
    rect(this.x + 5, this.y + 5, 5, 5);
    rect(this.x + 15, this.y + 5, 5, 5);
};

Player.prototype.move = function() {
    
    if (keyCode === LEFT && this.x > 0) {
        this.x -= 25;
    }
    
    if (keyCode === RIGHT && this.x + this.w < 400) {
        this.x += 25;
    }
};

var player = new Player(175, 275);

var Car = function(x, y, color, direction) {
    
    this.x = x;
    this.y = y; 
    this.w = 45;
    this.h = 20;
    this.speed = 3;
    this.color = color;
    this.direction = direction;
};

Car.prototype.draw = function() {
    
    strokeWeight(2);

    switch (this.color) {
        case "red":
            stroke(175, 0, 0);
            fill(255, 0, 0);
            break;
        case "blue":
            stroke(0, 75, 150);
            fill(0, 100, 255);
            break;
        case "orange":
            stroke(200, 50, 0);
            fill(255, 85, 0);
            break;
        case "yellow":
            stroke(200, 200, 0);
            fill(255, 255, 0);
            break;
    }

    rect(this.x, this.y + 2, 45, 20);
    
    switch (this.color) {
        case "red":
            fill(175, 0, 0);
            break;
        case "blue":
            fill(0, 75, 150);
            break;
        case "orange":
            fill(200, 50, 0);
            break;
        case "yellow":
            fill(200, 200, 0);
            break;
    }

    rect(this.x, this.y + 7, 45, 10);
    
    if (this.direction === "right") {
        fill(255);
        rect(this.x + 5, this.y + 5, 28, 14);
        noStroke();
        fill(0);
        rect(this.x + 15, this.y + 8, 5, 8);
    } else {
        fill(255);
        rect(this.x + 12, this.y + 5, 28, 14);
        noStroke();
        fill(0);
        rect(this.x + 25, this.y + 8, 5, 8);
    }

    fill(0);
    noStroke();
    rect(this.x + 5, this.y, 12, 2);
    rect(this.x + 28, this.y, 12, 2);
    rect(this.x + 5, this.y + 22, 12, 2);
    rect(this.x + 28, this.y + 22, 12, 2);
};

Car.prototype.move = function() {
    
    if (this.direction === "right") {
        this.x += this.speed;
    } else {
        this.x -= this.speed;
    }
    
    if (this.x + this.w < 0) {
        this.x = 400;
    }
    
    if (this.x > 400) {
        this.x = -this.w;
    }
};

Car.prototype.collision = function() {

    if (player.x + player.w > this.x && player.x < this.x + this.w && gameY + 275 + player.h > this.y && gameY + 275 < this.y + this.h) {
        gameOver = true;
    }
};

var Road = function(y, lanes, cars) {
    
    this.y = y;
    this.h = 25;
    this.lanes = lanes;
    this.cars = cars;
};

Road.prototype.draw = function() {

    fill(75);
    rect(0, this.y, 400, this.h * this.lanes);

    fill(100);

    for (var x = 20; x < 400; x += 65) {
        for (var y = 1; y < this.lanes; y++) {
            rect(x, this.y + (y * 25), 35, 5);
        }
    }
    
    for (var i = 0; i < this.cars.length; i++) {
        this.cars[i].draw();
        this.cars[i].move();
        this.cars[i].collision();
    }
};

var roads = [
    new Road(200, 1, [
        new Car(100, 200, "red", "right"), 
        new Car(200, 200, "blue", "right"),
        new Car(275, 200, "yellow", "right")
    ]),
    new Road(125, 1, [
        new Car(100, 125, "blue", "right"), 
        new Car(300, 125, "orange", "right")
    ]),
    new Road(50, 2, [
        new Car(100, 50, "red", "right"), 
        new Car(300, 50, "orange", "right"),
        new Car(200, 75, "red", "left"), 
        new Car(200, 75, "yellow", "left"),
    ]),
    new Road(-300, 2, [
        new Car(100, -275, "blue", "right"), 
        new Car(300, -275, "red", "right"),
        new Car(200, -300, "orange", "left"), 
        new Car(200, -300, "yellow", "left"),
    ]),
    new Road(-500, 6, [
        new Car(200, -375, "red", "right"), 
        new Car(200, -400, "blue", "left"), 
        new Car(100, -425, "red", "right"), 
        new Car(350, -450, "orange", "right"),
        new Car(250, -475, "blue", "left"), 
        new Car(100, -500, "blue", "left"),
    ]),
    new Road(-550, 1, [
        new Car(100, -550, "blue", "right"), 
        new Car(275, -550, "yellow", "right")
    ]),  
    new Road(-650, 1, [
        new Car(200, -650, "orange", "left"), 
        new Car(300, -650, "yellow", "left")
    ]), 
    new Road(-800, 1, [
        new Car(100, -800, "red", "right"), 
        new Car(200, -800, "blue", "right"),
        new Car(275, -800, "yellow", "right")
    ]),
    new Road(-1000, 6, [
        new Car(200, -875, "red", "right"), 
        new Car(200, -900, "blue", "left"), 
        new Car(100, -900, "blue", "left"),
        new Car(100, -925, "yellow", "right"), 
        new Car(350, -950, "orange", "right"),
        new Car(250, -975, "blue", "left"), 
        new Car(100, -1000, "red", "left"),
    ]),
    new Road(-1100, 2, [
        new Car(100, -1075, "red", "right"), 
        new Car(300, -1075, "orange", "right"),
        new Car(200, -1100, "red", "left"), 
        new Car(200, -1100, "yellow", "left"),
    ]),
    new Road(-1225, 2, [
        new Car(100, -1200, "blue", "right"), 
        new Car(300, -1200, "blue", "right"),
        new Car(200, -1225, "yellow", "left"), 
        new Car(200, -1225, "orange", "left"),
    ]),
    new Road(-1400, 2, [
        new Car(100, -1375, "red", "right"), 
        new Car(300, -1375, "orange", "right"),
        new Car(200, -1400, "red", "left"), 
        new Car(200, -1400, "yellow", "left"),
    ]),
    new Road(-1450, 1, [
        new Car(200, -1450, "orange", "left"), 
        new Car(300, -1450, "red", "left")
    ]), 
    new Road(-1550, 2, [
        new Car(100, -1525, "red", "right"), 
        new Car(300, -1525, "blue", "right"),
        new Car(200, -1550, "orange", "left"), 
        new Car(200, -1550, "yellow", "left"),
    ]),
    new Road(-1625, 1, [
        new Car(100, -1625, "blue", "right"), 
        new Car(275, -1625, "red", "right")
    ]),
    new Road(-1700, 2, [
        new Car(100, -1675, "red", "right"), 
        new Car(300, -1675, "orange", "right"),
        new Car(200, -1700, "red", "left"), 
        new Car(200, -1700, "yellow", "left"),
    ]),
    new Road(-1775, 2, [
        new Car(100, -1750, "red", "right"), 
        new Car(300, -1750, "yellow", "right"),
        new Car(200, -1775, "orange", "left"), 
        new Car(200, -1775, "yellow", "left"),
    ]),
    new Road(-2000, 6, [
        new Car(200, -1875, "red", "right"), 
        new Car(300, -1875, "orange", "right"),
        new Car(200, -1900, "blue", "left"), 
        new Car(100, -1900, "yellow", "left"),
        new Car(100, -1925, "red", "right"), 
        new Car(350, -1950, "orange", "right"),
        new Car(250, -1975, "blue", "left"), 
        new Car(100, -2000, "blue", "left"),
    ])
];

var Log = function(x, y, w, speed, direction) {
    
    this.x = x;
    this.y = y; 
    this.w = w;
    this.h = 25;
    this.speed = speed;
    this.direction = direction;
    this.onLog = false;
};

Log.prototype.draw = function() {
    
    fill(65, 35, 15);
    rect(this.x, this.y, this.w, this.h);
};

Log.prototype.move = function() {
    
    if (this.direction === "right") {
        this.x += this.speed;
    } else {
        this.x -= this.speed;
    }
    
    if (this.x + this.w < 0) {
        this.x = 400;
    }
    
    if (this.x > 400) {
        this.x = -this.w;
    }
    
    if (player.x + player.w < 0 || player.x > 400) {
        gameOver = true;
    }
};

Log.prototype.collision = function() {
    
    if (player.x + player.w > this.x && player.x < this.x + this.w && gameY + 275 + player.h > this.y && gameY + 275 < this.y + this.h) {
        player.x = this.x + (this.w / 2) - (player.w / 2);
        this.onLog = true;
    } else {
        this.onLog = false;
    }
};

var River = function(y, lanes, logs) {
    
    this.y = y;
    this.h = 25;
    this.lanes = lanes;
    this.logs = logs;
};

River.prototype.draw = function() {

    fill(115, 175, 215);
    rect(0, this.y, 400, this.h * this.lanes);
    fill(255);
    rect(15, this.y, 20, this.h * this.lanes);
    rect(365, this.y, 20, this.h * this.lanes);
    
    for (var i = 0; i < this.logs.length; i++) {
        this.logs[i].draw();
        this.logs[i].move();
        this.logs[i].collision();
    }
};

River.prototype.drown = function() {
    
    if (gameY + 275 >= this.y && gameY + 275 + player.h <= this.y + (this.h * this.lanes)) {
        if (!(this.logs[0].onLog || this.logs[1].onLog || this.logs[2].onLog || this.logs[3].onLog)) {
            gameOver = true;
        }
    }
};

var rivers = [
    new River(-225, 4, [ 
        new Log(random(0, 400), -150, random(75, 200), random(2, 3), "left"),
        new Log(random(0, 400), -175, random(75, 200), random(2, 3), "right"),
        new Log(random(0, 400), -200, random(75, 200), random(2, 3), "left"),
        new Log(random(0, 400), -225, random(75, 200), random(2, 3), "right")
    ]),
    new River(-775, 4, [ 
        new Log(random(0, 400), -700, random(75, 200), random(2, 3), "right"),
        new Log(random(0, 400), -725, random(75, 200), random(2, 3), "left"),
        new Log(random(0, 400), -750, random(75, 200), random(2, 3), "right"),
        new Log(random(0, 400), -775, random(75, 200), random(2, 3), "left")
    ]),
    new River(-1325, 4, [ 
        new Log(random(0, 400), -1250, random(75, 200), random(2, 3), "left"),
        new Log(random(0, 400), -1275, random(75, 200), random(2, 3), "right"),
        new Log(random(0, 400), -1300, random(75, 200), random(2, 3), "left"),
        new Log(random(0, 400), -1325, random(75, 200), random(2, 3), "right")
    ]),
    new River(-1875, 4, [ 
        new Log(random(0, 400), -1800, random(75, 200), random(2, 3), "left"),
        new Log(random(0, 400), -1825, random(75, 200), random(2, 3), "right"),
        new Log(random(0, 400), -1850, random(75, 200), random(2, 3), "left"),
        new Log(random(0, 400), -1875, random(75, 200), random(2, 3), "right")
    ])
];

var Train = function(y, direction) {
    
    this.x = 2500;
    this.y = y; 
    this.w = 1000;
    this.h = 25;
    this.speed = 10;
    this.direction = direction;
};

Train.prototype.draw = function() {
    
    for (var i = 0; i < this.w; i += 108) {
        fill(35, 135, 215);
        rect(i + this.x, this.y, 100, 25);
        fill(125, 175, 215);
        rect(i + this.x + 5, this.y + 5, 90, 15);
    }

    for (var i = 100; i < this.w - 25; i += 108) {
        fill(210, 214, 126);
        rect(i + this.x, this.y + 4, 8, 18);
    }
};

Train.prototype.move = function() {
    
    if (this.direction === "right") {
        this.x += this.speed;
        
        if (this.x + this.w > 3500) {
            this.x = -3500;
        }
    } else {
        this.x -= this.speed;
        
        if (this.x < -3500) {
            this.x = 3500 + this.w;
        }
    }
};

Train.prototype.collision = function() {
    
    if (player.x + player.w > this.x && player.x < this.x + this.w && gameY + 275 + player.h > this.y && gameY + 275 < this.y + this.h) {
        gameOver = true;
    }
};

var TrainTrack = function(y, train) {
    
    this.y = y;
    this.h = 25;
    this.train = train;
};

TrainTrack.prototype.draw = function() {
    
    fill(75);
    rect(0, this.y, 400, 25);
    
    fill(125);
    rect(0, this.y + 2, 400, 3);
    rect(0, this.y + 20, 400, 3);
    fill(65, 35, 15);

    for (var i = 20; i < 400; i += 30) {
        rect(i, this.y + 5, 5, 15);
    }

    if (this.train.x < 1500 && this.train.x > -1500) {
        fill(255, 0, 0, 75);
        rect(0, this.y, 400, 25);
    }
    
    this.train.draw();
    this.train.move();
    this.train.collision();
};

var trainTracks = [
    new TrainTrack(-50, new Train(-50, "left")),
    new TrainTrack(-100, new Train(-100, "right")),
    new TrainTrack(-525, new Train(-525, "left")),
    new TrainTrack(-1025, new Train(-1025, "left")),
    new TrainTrack(-1425, new Train(-1425, "right")),
    new TrainTrack(-1600, new Train(-1600, "right")),
    new TrainTrack(-1650, new Train(-1650, "left"))
];

var gameBackground = function() {

    noStroke();
    background(165, 225, 75);

    for (var y = 0; y < 400; y += 50) {
        fill(180, 235, 85);
        rect(0, y, 400, 25);
    }

    fill(50, 50, 50, 75);
    rect(0, 0, 35, 400);
    rect(365, 0, 35, 400);
};

var gameOverScreen = function(outcome) {

    noLoop();
    noStroke();
    fill(255, 125, 25, 200);
    rect(0, 125, 400, 50);
    fill(255);
    textSize(35);
    
    if (outcome === true) {
        text("You Won", 200, 150);
    } else {
        text("Game Over", 200, 150);
    }
};

var game = function() {
    
    textFont(createFont("sans-serif"));
    textAlign(CENTER, CENTER);

    gameBackground();
    
    pushMatrix();
    translate(0, -gameY);
    
    for (var i = 0; i < roads.length; i++) { 
        roads[i].draw();
    }

    for (var i = 0; i < rivers.length; i++) { 
        rivers[i].draw();
        rivers[i].drown();
    }
    
    for (var i = 0; i < trainTracks.length; i++) { 
        trainTracks[i].draw();
    }
    
    popMatrix();
    
    player.draw();
    
    if (started) {
        textSize(50);
        fill(255);
        text(score, 200, 50);
    } else {
        textSize(65);
        fill(255);
        text("Crossy\nRoad", 200, 150);
    }
    
    if (score >= 100) {
        gameOverScreen(true);
    }
    
    if (gameOver) {
        gameOverScreen(false);
    }
};

keyReleased = function() {

    player.move();
    
    if (keyCode === LEFT || keyCode === RIGHT || keyCode === UP || keyCode === DOWN) {
        started = true;
    }
    
    const bioquest = ["What is the powerhouse of the cell?", "Which organ takes in oxygen and expels carbon dioxide?"]
    
    if (keyCode === UP) {
        gameY -= 25;
        score++;
        
    }

    if (score % 5 == 0){
            prompt(bioquest[random(0,1)])
        }
    
    if (keyCode === DOWN) {
        gameY += 25;
        score--;
    }
};

draw = function() {
    
    game();
};

        }};
      var canvas = document.getElementById("mycanvas"); 
      var processingInstance = new Processing(canvas, programCode); 
   </script>

<div>
    <h1> How to Play</h1>
</div>
</html>
